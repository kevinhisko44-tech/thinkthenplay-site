<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Primary SEO -->
    <title>Hockey Cognitive Training for Coaches | Think Then Play</title>
    <meta
      name="description"
      content="A new way for hockey coaches to train scanning, thinking, and smarter play. Build custom on-ice drills or use pre-built sessions designed for flow, scanning, and decision-making."
    />
    <link rel="canonical" href="https://thinkthenplay.com/forhockey.html" />
    <meta name="robots" content="index,follow" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://thinkthenplay.com/forhockey.html" />
    <meta property="og:title" content="Think Then Play — For Hockey Coaches" />
    <meta
      property="og:description"
      content="Train scanning, thinking, and smarter play with a delightfully simple cognitive training tool for hockey practices."
    />
    <meta property="og:image" content="https://thinkthenplay.com/assets/images/og-image.jpg" />

    <!-- App / Mobile polish -->
    <meta name="apple-mobile-web-app-title" content="Think Then Play" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- CSS (standalone for this page) -->
    <link rel="stylesheet" href="forhockey.css" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VKHXDL6PNG"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "G-VKHXDL6PNG");
    </script>
  </head>

  <body>
    <!-- Top Nav -->
    <header class="topbar">
      <div class="container topbar-inner">
        <a class="brand" href="https://thinkthenplay.com/">
          <img
            class="brand-mark"
            src="assets/images/logo.png"
            alt="Think Then Play"
            aria-label="Think Then Play home"
          />
        </a>

        <a
          href="coming-soon.html"
          target="_blank"
          rel="noopener"
          class="appstore-link"
          aria-label="Download on the App Store"
        >
          <img
            src="assets/images/download_appstore.png"
            alt="Download on the App Store"
            class="appstore-badge"
          />
        </a>
      </div>
    </header>

    <!-- Floating CTA (desktop QR / mobile button) -->
    <div class="floating-cta" id="floatingCta">
      <div class="cta-qr" id="ctaQr" aria-label="Scan to download">
        <img class="cta-qr-img" src="assets/images/qr.png" alt="QR code to download" />
        <a class="cta-link" id="ctaLinkDesktop" href="#" target="_blank" rel="noopener">
          Open link
        </a>
      </div>

      <a
        class="cta-appstore"
        id="ctaAppstore"
        href="#"
        target="_blank"
        rel="noopener"
        aria-label="Download on the App Store"
      >
        Download on the App Store
      </a>
    </div>

    <main>
      <!-- HERO -->
      <section class="fh-hero">
        <!-- ✅ Title + subnav stay in the container -->
        <div class="container">
          <h1 class="fh-title">A New Way to Train Scanning, Thinking, and Smarter Play.</h1>

          <nav class="fh-subnav" aria-label="Page sections">
            <a href="#on-ice">On Ice</a>
            <a href="#at-home">Off Ice</a>
             <a href="#dryland">Dryland</a>
            <a href="#for-coaches">For Coaches &amp; Trainers</a>
            <a href="#how-it-works">How it Works</a>
          </nav>
        </div>

        <div class="container">
        <!-- ✅ FULL-BLEED HERO TILE ROW (aligns first tile with container edge) -->
        <div class="fh-bleed fh-hero-tiles" aria-label="Highlights">
          <div class="fh-tile-row">
            <button
              class="fh-row-nav fh-row-prev"
              type="button"
              aria-label="Previous"
              data-scroll-target="#heroTiles"
            >
              ‹
            </button>

            <div class="fh-scroller fh-tiles" id="heroTiles">

               <!-- Tile 4 -->
              <article class="fh-tile fh-tile-light">
                <div class="fh-tile-body">
                  <h3 class="fh-tile-title">On Ice Training</h3>
                  <p class="fh-tile-text">Add scanning and decision-making to any drill.</p>
                </div>
                <div class="fh-tile-media fh-tile-media-bottom">
                  <img src="assets/images/forhockey/tile-1.png" alt="At home training tile" />
                </div>
              </article>

<!-- Tile -->
<article class="fh-tile fh-tile-light fh-tile-custom">
  <div class="fh-tile-body">
    <h3 class="fh-tile-title">At Home Training</h3>
    <p class="fh-tile-text">Train at home with your head up, scanning and reacting.</p>
  </div>

  <div class="fh-tile-media fh-tile-media-bottom">
    <img src="assets/images/forhockey/tile-4.png" alt="At home training tile" />
  </div>

  <!-- ✅ White CTA row at bottom (clickable) -->
  <button
    class="fh-tile-cta-row"
    type="button"
    data-open-video
    data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/bcb10ba888d0a01c28900429ad02cfbe/manifest/video.m3u8"
    aria-label="Play McDavid head-up training video"
  >
    <span class="fh-tile-cta-left">
      <span class="fh-play-icon" aria-hidden="true"></span>
      <span class="fh-tile-cta-text">Watch Mcdavid at 13 training</span>
    </span>
  </button>
</article>

               <!-- Tile 5 (dark) -->
              <article class="fh-tile fh-tile-dark">
                <div class="fh-tile-body">
                    <div class="fh-tile-eyebrow">Build Training Screens</div>
                       <h3 class="fh-tile-title">Add to any drill on or off ice. Build Hockey IQ. </h3>
                </div>
                <div class="fh-tile-media fh-tile-media-bottom">
                  <img src="assets/images/forhockey/tile-5.png" alt="Build training screens tile" />
                </div>
              </article>

               <!-- Tile 4 -->



              <!-- Tile 2 (dark) -->
              <article class="fh-tile fh-tile-dark">
                <div class="fh-tile-body">
                  <div class="fh-tile-eyebrow">Play Games</div>
                  <h3 class="fh-tile-title">
                    Use our games to sharpen peripheral vision, reaction speed, and brain performance.
                  </h3>
                </div>
                <div class="fh-tile-media fh-tile-media-bottom">
                  <img src="assets/images/forhockey/tile-2.png" alt="Play games tile" />
                </div>
              </article>

                  <!-- Tile 4 -->
              <article class="fh-tile fh-tile-light">
                <div class="fh-tile-body">
                  <h3 class="fh-tile-title">At Dryland Training</h3>
                  <p class="fh-tile-text">Add cognitive challenges to your workouts so athletes think while they move.</p>
                </div>
                <div class="fh-tile-media fh-tile-media-bottom">
                  <img src="assets/images/forhockey/dryland-tile.png" alt="At home training tile" />
                </div>
              </article>


              <!-- Tile 2 (dark) -->
              <article class="fh-tile fh-tile-dark">
                <div class="fh-tile-body">
                  <div class="fh-tile-eyebrow">Get Drills</div>
                  <h3 class="fh-tile-title">
                    Tap into our expanding library of on-ice and off-ice drills.
                  </h3>
                </div>
                <div class="fh-tile-media fh-tile-media-bottom">
                  <img src="assets/images/forhockey/tile-3.png" alt="Play games tile" />
                </div>
              </article>
             
   <article class="fh-tile fh-tile-light">
                <div class="fh-tile-body">
                  <h3 class="fh-tile-title">Pre-Game Warmup</h3>
                  <p class="fh-tile-text">Getting ready isn’t just about movement. Add cognitive reps to sharpen focus, scanning, and decision-making before puck drop.</p>
                </div>
                <div class="fh-tile-media fh-tile-media-bottom">
                  <img src="assets/images/forhockey/warmup-tile.png" alt="At home training tile" />
                </div>
              </article>
             

             
            </div>

            <button
              class="fh-row-nav fh-row-next"
              type="button"
              aria-label="Next"
              data-scroll-target="#heroTiles"
            >
              ›
            </button>
          </div>
        </div>
</div>
        <!-- Black band (quote + QR) -->
        <section class="fh-hero-band">
          <div class="container fh-band-inner">
            <blockquote class="fh-quote">
              <p>
                “We started using this to get our players’ heads up more, and it’s made a difference. They’re scanning earlier and making better decisions under pressure.”
              </p>
              <footer>
                <strong>Hockey Coach</strong><br />
                <span>U12 Newmarket Renegades</span>
              </footer>
            </blockquote>
          </div>
        </section>
      </section>

      <!-- SECTION: ON ICE DRILLS -->
      <section class="fh-section" id="on-ice">
        <div class="container">
          <div class="fh-section-head">
            <h2 class="fh-h2">On Ice Drills Designed for Flow, Scanning, and Decision-Making.</h2>
          </div>
        </div>


        <!-- ✅ FULL-BLEED DRILLS ROW (matches hero tiles behaviour) -->
<div class="container">
  <div class="fh-bleed" aria-label="On-ice drill examples">
    <div class="fh-tile-row">
      <button class="fh-row-nav fh-row-prev" type="button" aria-label="Previous" data-scroll-target="#drillsRow">‹</button>

      <div class="fh-scroller fh-video-row" id="drillsRow" data-autoplay="inview">
        <article class="fh-video-card">
                <div class="fh-card-video">
                  <video class="cf-video" playsinline muted loop preload="metadata"
                    data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/39bdef30c11b47f55969cc30177b6697/manifest/video.m3u8"></video>
                </div>
              
              </article>

              <article class="fh-video-card">
                <div class="fh-card-video">
                  <video class="cf-video" playsinline muted loop preload="metadata"
                    data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/703aac37e54acd1f5cdbd426d07bf0df/manifest/video.m3u8"></video>
                </div>
              
              </article>

              <article class="fh-video-card">
                <div class="fh-card-video">
                  <video class="cf-video" playsinline muted loop preload="metadata"
                    data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/cfd2198df7d205910f7d1cfbff7f70d6/manifest/video.m3u8"></video>
                </div>
              
              </article>

              <article class="fh-video-card">
                <div class="fh-card-video">
                  <video class="cf-video" playsinline muted loop preload="metadata"
                    data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/40632c155342aad515fb17bc89d3cf23/manifest/video.m3u8"></video>
                </div>
           
              </article>

                 <article class="fh-video-card">
                <div class="fh-card-video">
                  <video class="cf-video" playsinline muted loop preload="metadata"
                    data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/69300ad0077c319759694ab754d77e68/manifest/video.m3u8"></video>
                </div>
           
              </article>
      </div>

      <button class="fh-row-nav fh-row-next" type="button" aria-label="Next" data-scroll-target="#drillsRow">›</button>
    </div>
  </div>
</div>

       
      </section>


 <!-- SECTION: AT HOME -->
<section class="fh-section" id="at-home">
  <div class="container">
    <div class="fh-section-head">
      <h2 class="fh-h2">Off-Ice Drills That Train Head-Up Control and Quicker Decisions.</h2>
    </div>
  </div>

  <div class="container">
    <div class="fh-bleed" aria-label="At-home examples">
      <div class="fh-tile-row">
        <button class="fh-row-nav fh-row-prev" type="button" aria-label="Previous" data-scroll-target="#homeRow">‹</button>

        <div class="fh-scroller fh-video-row" id="homeRow" data-autoplay="inview">
         
               <article class="fh-video-card">
            <div class="fh-card-video">
              <video class="cf-video" playsinline muted loop preload="metadata"
                data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/d5950205231b0f8dc7617365c60afbb9/manifest/video.m3u8"></video>
            </div>
          </article>
         
                    <article class="fh-video-card">
            <div class="fh-card-video">
              <video class="cf-video" playsinline muted loop preload="metadata"
                data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/a0d7376f887773b7086c410335c1f901/manifest/video.m3u8"></video>
            </div>
          </article>


          <article class="fh-video-card">
            <div class="fh-card-video">
              <video class="cf-video" playsinline muted loop preload="metadata"
                data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/7a7b86d7a853107f94bf327d8d0ee361/manifest/video.m3u8"></video>
            </div>
          </article>

          <article class="fh-video-card">
            <div class="fh-card-video">
              <video class="cf-video" playsinline muted loop preload="metadata"
                data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/8248bed953a8a7e74527af77b26f84ee/manifest/video.m3u8"></video>
            </div>
          </article>

              <article class="fh-video-card">
            <div class="fh-card-video">
              <video class="cf-video" playsinline muted loop preload="metadata"
                data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/233bf4d8958964f0e4c8b12dec065f22/manifest/video.m3u8"></video>
            </div>
          </article>

          <article class="fh-video-card">
            <div class="fh-card-video">
              <video class="cf-video" playsinline muted loop preload="metadata"
                data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/60737be37bfe41ad33deaffc1b14b29a/manifest/video.m3u8"></video>
            </div>
          </article>
        </div>

        <button class="fh-row-nav fh-row-next" type="button" aria-label="Next" data-scroll-target="#homeRow">›</button>
      </div>
    </div>
  </div>
</section>


      <!-- SECTION: TRAIN ANYWHERE -->
      <section class="fh-section" id="dryland">
        <div class="container">
          <div class="fh-section-head">
            <h2 class="fh-h2">Dryland Training for Teams, Individual, and Fast Pre-Game Activation.</h2>
          </div>
        </div>

     
        <!-- ✅ FULL-BLEED DRYLAND ROW (same as On Ice cards) -->
<div class="container">
  <div class="fh-bleed" aria-label="Dryland examples">
    <div class="fh-tile-row">
      <button class="fh-row-nav fh-row-prev" type="button" aria-label="Previous" data-scroll-target="#drylandRow">‹</button>

      <div class="fh-scroller fh-video-row" id="drylandRow" data-autoplay="inview">
        <article class="fh-video-card">
          <div class="fh-card-video">
            <video class="cf-video" playsinline muted loop preload="metadata"
              data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/a679b77a0d239c72c9f141c363d8c9b9/manifest/video.m3u8"></video>
          </div>
        
        </article>

        <article class="fh-video-card">
          <div class="fh-card-video">
            <video class="cf-video" playsinline muted loop preload="metadata"
              data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/f0c837e4a009707ba658502c9e28d85b/manifest/video.m3u8"></video>
          </div>
        
        </article>

        <article class="fh-video-card">
          <div class="fh-card-video">
            <video class="cf-video" playsinline muted loop preload="metadata"
              data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/39936ff331bf1b0d76661575a6dd5790/manifest/video.m3u8"></video>
          </div>
        
        </article>

        <article class="fh-video-card">
          <div class="fh-card-video">
            <video class="cf-video" playsinline muted loop preload="metadata"
              data-hls="https://customer-hev71calbt8qvapr.cloudflarestream.com/a79908991d4928e72e179270671b8f59/manifest/video.m3u8"></video>
          </div>
        </article>
      </div>

      <button class="fh-row-nav fh-row-next" type="button" aria-label="Next" data-scroll-target="#drylandRow">›</button>
    </div>
  </div>
</div>
      </section>


     

     <!-- SECTION: FOR COACHES (matches HERO tiles exactly, no videos) -->
<section class="fh-section fh-section-grey" id="for-coaches">
  <div class="container">
    <div class="fh-section-head">
      <h2 class="fh-h2">
        Add structured cognitive training to your sessions — built to help coaches and training businesses grow.
      </h2>
    </div>
  </div>

  <div class="container">
    <!-- ✅ Use the SAME wrapper class as hero tiles -->
    <div class="fh-bleed fh-hero-tiles" aria-label="For coaches highlights">
      <div class="fh-tile-row">
        <button
          class="fh-row-nav fh-row-prev"
          type="button"
          aria-label="Previous"
          data-scroll-target="#coachTiles"
        >
          ‹
        </button>

        <!-- ✅ Same scroller classes as hero -->
        <div class="fh-scroller fh-tiles" id="coachTiles">

          <!-- Tile 1 -->
          <article class="fh-tile fh-tile-dark">
            <div class="fh-tile-body">
              <div class="fh-tile-eyebrow">For Coaches</div>
              <h3 class="fh-tile-title">Promote your business</h3>
              <p class="fh-tile-text">
                Share your drills with us and we’ll help feature your business in-app.
              </p>
            </div>
            <!-- ✅ Use hero-style image block -->
            <div class="fh-tile-media fh-tile-media-bottom">
              <img src="assets/images/forhockey/coach-tile-1.png" alt="Promote your coaching business" />
            </div>
          </article>

          <!-- Tile 2 -->
          <article class="fh-tile fh-tile-dark">
            <div class="fh-tile-body">
              <div class="fh-tile-eyebrow">For Training Businesses</div>
              <p class="fh-tile-text">
             Grow Your Revenue with Cognitive Training. Offer structured scanning, reaction, and visual decision-making sessions that help athletes perform — and help your business scale. </p>
            </div>
            <div class="fh-tile-media fh-tile-media-bottom">
              <img src="assets/images/forhockey/coach-tile-2.png" alt="Structured session templates" />
            </div>
          </article>

          <!-- Tile 3 -->
          <article class="fh-tile fh-tile-light fh-tile-custom">
            <div class="fh-tile-body">
              <div class="fh-tile-eyebrow">Teams</div>
              <h3 class="fh-tile-title">Team packages</h3>
              <p class="fh-tile-text">
                Build a repeatable cognitive warmup your whole team can run together — on-ice or off-ice.
              </p>
            </div>
            <div class="fh-tile-media fh-tile-media-bottom">
              <img src="assets/images/forhockey/coach-tile-3.png" alt="Team training packages" />
            </div>
          </article>

          <!-- Tile 4 -->
          <article class="fh-tile fh-tile-dark">
            <div class="fh-tile-body">
              <div class="fh-tile-eyebrow">Coming Soon</div>
              <h3 class="fh-tile-title">Coach tools + library</h3>
              <p class="fh-tile-text">
                Save screens, build sessions faster, and tap into a growing drill library.
              </p>
            </div>
            <div class="fh-tile-media fh-tile-media-bottom">
              <img src="assets/images/forhockey/coach-tile-4.png" alt="Coach tools and drill library" />
            </div>
          </article>

        </div>

        <button
          class="fh-row-nav fh-row-next"
          type="button"
          aria-label="Next"
          data-scroll-target="#coachTiles"
        >
          ›
        </button>
      </div>
    </div>
  </div>
</section>


      <!-- SECTION: HOW IT WORKS -->
      <section class="fh-section fh-how" id="how-it-works">
        <div class="container fh-how-inner">
          <div class="fh-how-mark">
            <img src="assets/images/logo.png" alt="Think Then Play" />
          </div>

          <div class="fh-how-copy">
            <div class="fh-eyebrow">How it Works</div>
            <h2 class="fh-h2">New Possibilities for Training<br />How Players Think</h2>

            <p class="fh-lead">
              Think Then Play helps players process cues faster (scan → decide → execute) while moving.
              It’s built for the moments that actually decide plays:
            </p>

            <ul class="fh-list">
              <li><strong>Shoulder checks / pre-scans</strong> + awareness before puck retrievals</li>
              <li><strong>Reaction</strong> + focus under pressure</li>
              <li><strong>Decision-making</strong> (options, deception, timing)</li>
              <li><strong>Scanning that translates</strong> into better puck support and defensive reads</li>
              <li><strong>Overall heads up play</strong></li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <div class="container footer-inner">
          <div class="footer-links">
            <a href="privacy.html" class="footer-link">Privacy Policy</a>
            <a href="terms-and-conditions.html" class="footer-link">Terms and Conditions</a>
            <a href="support.html" class="footer-link">Support</a>
          </div>
          <div class="footer-copy">© <span id="year"></span> Kevin Hisko</div>
        </div>
      </footer>
    </main>


<!-- ✅ Video Modal (MOVE THIS ABOVE THE SCRIPTS) -->
<div class="fh-video-modal" id="fhVideoModal" aria-hidden="true">
  <div class="fh-video-modal-backdrop" data-close-video></div>

  <div class="fh-video-modal-panel" role="dialog" aria-modal="true" aria-label="Video player">
    <button class="fh-video-modal-close" type="button" data-close-video aria-label="Close video">✕</button>

    <div class="fh-video-modal-player">
      <video
        id="fhModalVideo"
        playsinline
        webkit-playsinline
        controls
        preload="metadata"
      ></video>

      <button class="fh-audio-toggle" id="fhAudioToggle" type="button" aria-label="Toggle audio">
        Audio: Off
      </button>
    </div>
  </div>
</div>

    <!-- Keep your existing behaviour file -->
    <script src="script.js"></script>

    <!-- HLS.js for Chrome/Edge playback -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.15"></script>

   <script>
document.addEventListener("DOMContentLoaded", () => {
  const bySel = (s) => document.querySelector(s);

  // -------------------------------
  // Row buttons
  // -------------------------------
  document.querySelectorAll("[data-scroll-target]").forEach((btn) => {
    btn.addEventListener("click", () => {
      const target = bySel(btn.getAttribute("data-scroll-target"));
      if (!target) return;

      const dir = btn.classList.contains("fh-row-prev") ? -1 : 1;
      const amount = Math.round(target.clientWidth * 0.85) * dir;
      target.scrollBy({ left: amount, top: 0, behavior: "smooth" });
    });
  });

  // Footer year
  const yearEl = document.getElementById("year");
  if (yearEl && !yearEl.textContent) yearEl.textContent = new Date().getFullYear();

  // -------------------------------
  // Modal player (with audio toggle)
  // -------------------------------
  const modal = document.getElementById("fhVideoModal");
  const modalVideo = document.getElementById("fhModalVideo");
  const audioBtn = document.getElementById("fhAudioToggle");

  let activeHls = null;

  const openModal = () => {
    modal.classList.add("is-open");
    modal.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  };

  const closeModal = () => {
    try { modalVideo.pause(); } catch(e) {}
    try { modalVideo.currentTime = 0; } catch(e) {}

    if (activeHls) {
      try { activeHls.destroy(); } catch(e) {}
      activeHls = null;
    }

    modalVideo.removeAttribute("src");
    try { modalVideo.load(); } catch(e) {}

    modal.classList.remove("is-open");
    modal.setAttribute("aria-hidden", "true");
    document.body.style.overflow = "";
  };

  const setAudioUI = () => {
    if (!audioBtn) return;
    audioBtn.textContent = modalVideo.muted ? "Audio: Off" : "Audio: On";
  };

  const loadModalVideo = (src) => {
    if (!src) return;

    // Pause any inline preview videos behind
    document.querySelectorAll("video.cf-video").forEach(v => { try { v.pause(); } catch(e) {} });

    // Reset previous HLS instance
    if (activeHls) {
      try { activeHls.destroy(); } catch(e) {}
      activeHls = null;
    }

    // Start muted, user can unmute
    modalVideo.muted = false;
    setAudioUI();

    // Native HLS (iOS Safari/Chrome)
    if (modalVideo.canPlayType("application/vnd.apple.mpegurl")) {
      modalVideo.src = src;
      try { modalVideo.load(); } catch(e) {}
      openModal();

      // Must be called directly from the click handler chain
      const p = modalVideo.play();
      if (p && p.catch) p.catch(() => {});
      return;
    }

    // Hls.js for other browsers
    if (window.Hls && Hls.isSupported()) {
      activeHls = new Hls({ lowLatencyMode: true, backBufferLength: 30 });
      activeHls.loadSource(src);
      activeHls.attachMedia(modalVideo);

      openModal();

      activeHls.on(Hls.Events.MANIFEST_PARSED, () => {
        const p = modalVideo.play();
        if (p && p.catch) p.catch(() => {});
      });
    } else {
      modalVideo.src = src;
      try { modalVideo.load(); } catch(e) {}
      openModal();
      const p = modalVideo.play();
      if (p && p.catch) p.catch(() => {});
    }
  };

  // Bind modal open buttons (your tile CTA)
  document.querySelectorAll("[data-open-video][data-hls]").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      loadModalVideo(btn.getAttribute("data-hls"));
    });
  });

  // Close modal
  modal.querySelectorAll("[data-close-video]").forEach((el) => {
    el.addEventListener("click", closeModal);
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && modal.classList.contains("is-open")) closeModal();
  });

  if (audioBtn) {
    audioBtn.addEventListener("click", () => {
      modalVideo.muted = !modalVideo.muted;
      setAudioUI();
    });
  }

  // -------------------------------
  // Inline previews (IMPORTANT iPhone behaviour)
  //  - Desktop: hover plays muted previews
  //  - Mobile: DO NOT try autoplay; tap plays muted inline
  // -------------------------------
  const supportsHover = window.matchMedia("(hover: hover) and (pointer: fine)").matches;
  const videos = Array.from(document.querySelectorAll("video.cf-video[data-hls]"));

  const pauseSafe = (v) => { try { v.pause(); } catch(e) {} };
  const playSafe  = (v) => { try { return v.play(); } catch(e) { return Promise.reject(e); } };

  const pauseAllExcept = (keep) => {
    videos.forEach(v => { if (v !== keep) pauseSafe(v); });
  };

  const attachSource = (video) => {
    const src = video.getAttribute("data-hls");
    if (!src) return;

    video.muted = true;
    video.loop = true;
    video.playsInline = true;
    video.setAttribute("playsinline", "");
    video.setAttribute("webkit-playsinline", "");
    video.setAttribute("muted", "");
    video.preload = "metadata";

    // Native HLS
    if (video.canPlayType("application/vnd.apple.mpegurl")) {
      if (video.src !== src) {
        video.src = src;
        try { video.load(); } catch(e) {}
      }
      return;
    }

    // hls.js
    if (window.Hls && Hls.isSupported()) {
      if (video._hlsAttached) return;
      const hls = new Hls({ lowLatencyMode: true, backBufferLength: 30 });
      hls.loadSource(src);
      hls.attachMedia(video);
      video._hls = hls;
      video._hlsAttached = true;
    } else {
      video.src = src;
      try { video.load(); } catch(e) {}
    }
  };

  videos.forEach(attachSource);

  const playPreview = (video) => {
    pauseAllExcept(video);
    video.muted = true;
    attachSource(video);
    playSafe(video).catch(() => {});
  };

  if (supportsHover) {
    let hoverTimer = null;

    videos.forEach((video) => {
      const card = video.closest(".fh-video-card") || video.parentElement;
      if (!card) return;

      card.addEventListener("mouseenter", () => {
        clearTimeout(hoverTimer);
        hoverTimer = setTimeout(() => playPreview(video), 80);
      });

      card.addEventListener("mouseleave", () => {
        clearTimeout(hoverTimer);
        pauseSafe(video);
        try { video.currentTime = 0; } catch(e) {}
      });
    });
  } else {
    // iPhone: use pointerup/touchend (stronger "gesture" signal than click)
    document.querySelectorAll(".fh-video-card").forEach((card) => {
      const handler = (e) => {
        const v = card.querySelector("video.cf-video");
        if (!v) return;
        playPreview(v);
      };
      card.addEventListener("pointerup", handler);
      card.addEventListener("touchend", handler, { passive: true });
    });
  }
});
</script>


    
  </body>
</html>
